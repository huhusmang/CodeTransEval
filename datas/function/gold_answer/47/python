def longestAlternatingSubarray(a: List[int], threshold: int) -> int:
    ans, i, n = 0, 0, len(a)
    while i < n:
        if a[i] % 2 or a[i] > threshold:
            i += 1
        else:
            i0 = i
            i += 1
            while i < n and a[i] <= threshold and a[i] % 2 != a[i - 1] % 2:
                i += 1 
            ans = max(ans, i - i0)
    return ans