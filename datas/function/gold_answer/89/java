public static int minExtraChar(String s, String[] dictionary) {
    var set = new HashSet<String>(dictionary.length);
    for (var str : dictionary) set.add(str);
    int n = s.length();
    var f = new int[n + 1];
    for (int i = 0; i < n; i++) {
        f[i + 1] = f[i] + 1;
        for (int j = 0; j < i+1; j++) {
            if (set.contains(s.substring(j, i + 1))) {
                f[i + 1] = Math.min(f[i + 1], f[j]);
            }
        }
    }
    return f[n];
}