public static int minimumRightShifts(List<Integer> nums) {
    int i = 1;
    int n = nums.size();
    while (i < n && nums.get(i - 1) < nums.get(i)) {
        i++;
    }
    if (i == n) {
        return 0;
    }
    if (nums.get(0) < nums.get(n - 1)) {
        return -1;
    }
    int mid = i;
    i++;
    while (i < n && nums.get(i - 1) < nums.get(i)) {
        i++;
    }
    if (i < n) {
        return -1;
    }
    return n - mid;
}